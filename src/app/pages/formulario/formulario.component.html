<h2>Validaciones Reactivas</h2>
<hr>

<div class="row">
    <div class="col">

        <form autocomplete="off">

            <!-- Numero del caso de prueba en el set de pruebas -->
            <div class="mb-3 row">
              <label class="col-sm-3 col-form-label">Numero del caso</label>
              <div class="col-sm-9">
                  <input type="number"
                         class="form-control"
                         formControlName = 'inStorage'
                         placeholder="Ejm: 26">

                  <span class="form-text text-danger">
                       Digite el numero del caso de prueba segun el set de pruebas
                  </span>
              </div>
            </div>
            <!-- Caso de prueba -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Caso de prueba</label>
                <div class="col-sm-9">
                    <input type="text"
                           class="form-control"
                           formControlName="testCase"
                           placeholder="Caso de prueba">
                    <span  class="form-text text-danger">
                        Escriba el caso de prueba al que pertenece la evidencia
                    </span>
                </div>
            </div>

            <!-- Fecha del caso de prueba -->
             <div class="row mb-3">
              <label class="col-sm-3 col-form-label">Fecha del caso de prueba</label>
              <div class="col-sm-9">
                <input type="date"
                       class="form-control custom-datepicker"
                       >
                       <span class="form-text text-danger">
                        Digite la fecha del caso de prueba
                   </span>
              </div>
             </div>

             <!-- Cedula  -->
             <div class="mb-3 row">
              <label class="col-sm-3 col-form-label">Cedula</label>
              <div class="col-sm-9">
                  <input type="number"
                         class="form-control"
                         formControlName = 'inStorage'
                         placeholder="Ejm: 1001342626">

                  <span class="form-text text-danger">
                       Digite la cedula con la que hizo el caso de prueba
                  </span>
              </div>
            </div>

            <!-- Dispositivo -->
             <div class="mb-3 row">
              <label class="col-sm-3 col-form-label">Plataforma</label>
              <div class="col-sm-9" >
                <select class="form-select" aria-label="Default select example">
                  <option selected>Seleccione una opcion</option>
                  <option value="1">Davivienda.com</option>
                  <option value="2">SuperApp-Android</option>
                  <option value="3">SuperApp-IOS</option>
                </select>
              </div>
             </div>

             <!-- Agregar Favorito -->
    <div class="mb-3 row">
      <label class="col-sm-3 col-form-label">Agregar</label>
      <div class="col-sm-9">

          <div class="input-group">
              <input class="form-control"
                    [formControl] = "newFavorite"
                     placeholder="Agregar favorito">
                     >


              <button (click)="onAddToFavorite()"
                      class="btn btn-outline-primary"
                      type="button">
                  Agregar favorito
              </button>
          </div>
      </div>
  </div>


  <!-- Lista de Juegos Favoritos -->
  <div class="mb-3 row">
      <label class="col-sm-3 col-form-label">Favoritos</label>
      <div class="col-sm-9"  formArrayName="favoriteGames">

          <div class="mb-1" *ngFor="let item of favoriteGames.controls; let i = index">

              <div class="input-group">
                  <input
                    [formControlName] = "i"
                    class="form-control"
                  >

                  <button class="btn btn-outline-danger"
                          type="button"
                          (click)="onDeleteFavorite(i)">
                    Eliminar
                </button>
              </div>
              <span *ngIf="isValidFieldInArray(favoriteGames,i)" class="form-text text-danger">
                este campo es requerido
              </span>
          </div>

      </div>
  </div>


            <div class="row">
                <div class="col">
                    <button class="btn btn-primary float-end"
                            type="submit">
                        Crear
                    </button>
                </div>
            </div>


        </form>
    </div>
</div>


<h2>Form Valid: {{myform.valid}} </h2>
<h2>Form Status: {{myform.status}} </h2>
<h2>Form Pending: {{myform.pending}} </h2>
<h2>Form errors</h2>
<pre>{{ myform.errors| json }}</pre>

<h5>Nombre</h5>
<pre>{{myform.controls['name'].errors | json }}</pre>

<h5>Email</h5>
<pre>{{ myform.controls['email'].errors | json }}</pre>

<h5>Username</h5>
<pre>{{ myform.controls['username'].errors| json }}</pre>


<h5>Password</h5>
<pre>{{ myform.value.password | json }}</pre>

<h5>Confirmar</h5>
<pre>{{ myform.controls['password2'].errors| json }}</pre>

